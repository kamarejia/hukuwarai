# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## プロジェクト概要

「レモの福笑い」- オリジナルキャラクター「レモ」を使った福笑いゲーム。
ドラッグ&ドロップでパーツを配置し、ランダム順序でパーツが公開される日本語対応のWebゲームです。

## 開発コマンド

```bash
# ローカル開発サーバー起動
npm install
npm run dev

# 本番デプロイ
vercel --prod
```

## アーキテクチャ

### ファイル構成
- `index.html`: メインHTML、日本語UI
- `js/game.js`: ゲームロジック（ES6クラスベース）
- `css/style.css`: スタイルシート（フレックスボックス、アニメーション）
- `レモふくわらい/`: キャラクターパーツ画像（13個のPNGファイル）
- `vercel.json`: キャッシュ制御設定

### 技術スタック
- バニラJS（ES6+ LemonFukuwaraiクラス）
- Canvas API（画像描画、スケーリング）
- CSS3（フレックスボックス、グラデーション、アニメーション）
- タッチ/マウスイベント対応

### ゲームシステム
- 13個のレモパーツをランダム順序で公開
- ドラッグ&ドロップによる配置システム
- Canvas上でのレイヤー管理（描画順序重要）
- スマートフォン対応のタッチインタラクション
- 完成時の作品名入力機能

### 画像アセット管理
パーツはレイヤー順序で描画：
1. body（体） → 2. head（頭） → 3. l_leg/r_leg（足） → 4. l_hand/r_hand（手）
→ 5. head_top（頭の上） → 6-9. antenna系 → 10-11. mouth系 → 12-13. eye系

### 重要な実装詳細
- キャンバススケーリング：元画像608x859を400x565にスケール
- レスポンシブ対応：デスクトップ/タブレット/スマートフォン
- バージョン管理：CSS/JSファイルにキャッシュバスト用クエリパラメータ使用